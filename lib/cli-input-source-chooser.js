// Generated by CoffeeScript 2.0.0-beta9-dev
var fs;
fs = require('fs');
module.exports = {
  choose: function (options) {
    var input, processInput;
    input = '';
    processInput = require('./cli-process-input');
    if (null != options.input) {
      return fs.stat(options.input, function (err, stats) {
        if (null != err)
          throw err;
        if (stats.isDirectory())
          options.input = path.join(options.input, 'index.coffee');
        return fs.readFile(options.input, function (err, contents) {
          if (null != err)
            throw err;
          input = contents;
          return processInput(input, options);
        });
      });
    } else if (null != options.watch) {
      return options.watch;
    } else if (null != options.cli) {
      input = options.cli;
      return processInput(input, options);
    } else {
      process.stdin.on('data', function (data) {
        return input += data;
      });
      process.stdin.on('end', processInput);
      process.stdin.setEncoding('utf8');
      return process.stdin.resume();
    }
  }
};
